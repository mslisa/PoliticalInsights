{% extends 'base.html' %}

{% block content %}
  <div class="container-fluid">

  <!-- row of reps -->	<!-- TODO: activate button of current page, https://stackoverflow.com/questions/4626431/highlight-the-navigation-menu-for-the-current-page -->
  {% block rep_row %}
    <div class="row">
      <h2>Your Representatives</h2>
    </div>

    <div class="row">
      <div class="btn-group" data-toggle="buttons">
        {% for rep in selected_rep_form.selected_rep %}
          {% if metric == rep.choice_label %}
            <label for="{{ rep.id_for_label }}" class="btn btn-link active" >
          {% else %}
            <label for="{{ rep.id_for_label }}" class="btn btn-link" >
          {% endif %}
            <img src={{ rep.choice_label.img_url }} alt={{ rep.choice_label.name }} height="165" width="135" class="rounded"><br>
            {{ rep.choice_label.official_title }}<br>
            {{ rep.choice_label.name }}<br>
            <span class="radio">{{ rep.tag }}</span>
          </label>
        {% endfor %}
      </div>
    </div>
  {% endblock %}

  {% block metrics %}
    <!-- page navigation tabs -->
    <div class="row">
      <div class="btn-group" data-toggle="buttons">
        {% for selected_metric in selected_metric_form.selected_metric %}
          {% if metric == selected_metric.choice_label %}
            <label for="{{ selected_metric.id_for_label }}" class="btn btn-primary active" >
          {% else %}
            <label for="{{ selected_metric.id_for_label }}" class="btn btn-primary" >
          {% endif %}
            {{ selected_metric.choice_label }}
            <span class="radio">{{ selected_metric.tag }}</span>
          </label>
        {% endfor %}
      </div>
    </div>

    <!-- metrics stuff -->
    <div class="row border" >
      <!-- left side graphic plus explanation -->
      <div class="column">
 
        <!-- graphic -->
        <img src="/metrics_graph/?metric={{ metric }}&amp;rep_id={{ i_rep }}">
 
        <br>
 
        <!-- explanation -->
        {{ fig_explanation }}
 
      </div>
 
      <!-- right side big number charts-->
      <div class="column">
        <table class="table table-hover">
          <tbody>
            {% for quick_stat in quick_stat_dict.values %}
              <tr>
                <th scope="row">{{ quick_stat.stat }}</th>
                <td>{{ quick_stat.stat_explanation }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    
<!-- DELETE THIS AFTER DEBUGGING -->
<div class="row">
posted_data: {{ posted_data }}
</div>
<!-- END OF DELETE -->
  {% endblock %}
{% endblock %}